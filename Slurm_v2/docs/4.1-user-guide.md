# Phase 4, Step 1: User Quickstart Guide

* **File:** `4.1-user-guide.md`
* **Date:** December 18, 2025
* **Target Audience:** Physics Students & Researchers
* **Goal:** A simple reference for logging in, managing files, and running simulations without needing advanced Linux knowledge.

---

## 1. Accessing the Cluster

You can access the cluster resources in two ways: via the Web Portal (recommended) or via traditional SSH command line.

### Method A: The Web Portal (Open OnDemand)

This is the easiest way to manage files, check job status, and access a terminal.

1. **URL:** Open [https://10.0.0.91](https://10.0.0.91) in your browser.
    * *Note:* You may see a "Security Warning" because we use self-signed certificates. Click **Advanced -> Proceed** (or "Accept Risk").
2. **Login:** Use your standard lab username and password.

### Method B: SSH (Command Line)

For advanced users who prefer a direct terminal connection:

    ssh username@10.0.0.91

---

## 2. Where is my stuff? (Storage)

The cluster uses a **Shared Filesystem**.

* **Path:** `/home/your_username`
* **Behavior:** Files you save here are visible on **ALL** nodes (Head Node and Compute Nodes).
* **Quota:** Please monitor your disk usage. Move large finished datasets to the archive storage to keep the home directory fast.

---

## 3. Running Software (The "Easy Buttons")

We have created simplified commands to run standard software without needing complex setup scripts.

### Interactive Tools (Run immediately)

These commands run on the Head Node for quick analysis or plotting.

* **CERN ROOT:**
    Type `root`. The container will launch automatically.

        root -b

* **MVME Conversion:**
    Use `mvme2xy` just like you did on the old system.

        mvme2xy run1024.mvme

### Submitting Jobs (Running on the Cluster)

Do **NOT** run heavy simulations (Geant4/Talys) on the Head Node. Use the submission commands to send them to the compute nodes.

* **Talys:**

    Usage: sub_talys <input_file> [optional_job_name]

        sub_talys gold.inp my_gold_run

* **Geant4:**

    Usage: sub_geant4 <simulation_executable> <macro_file>

        sub_geant4 ./exampleB1 run1.mac

* **Check Status:**
    To see if your job is running, check the "Active Jobs" tab in the Web Portal, or type:

        squeue

---

## 4. compiling Your Code

You cannot compile Geant4 code directly on the login node because it doesn't have the physics libraries installed. You must use the build wrapper.

1. Go to your source directory:

        cd ~/my_geant4_project/build

2. Run the build helper:

        lab-build

    *This will enter the container, run `cmake` and `make`, and then exit.*

---

## 5. Troubleshooting

* **"Permission Denied":** Ensure you are running commands from your `/home` directory, not a system folder.
* **"Command not found":** Try logging out and logging back in to refresh your path.
* **Job fails immediately:** Check the output file (e.g., `talys_job.out`) in your folder for error messages.
